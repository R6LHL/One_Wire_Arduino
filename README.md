# One_Wire_R6LHL

## Библиотека для работы с шиной 1-Wire. (пока только для ArduinoNano328p)
Данная библиотека позволяет создать несколько шин 1-Wire в одной прошивке.
Для создания шины необходимо написать в глобальной секции, там, где объявляются переменные:

```C++
OneWire_R6LHL onewire_D10(Arduino_Board::nano328p, 10, 2);
```
где: 
- Arduino_Board::nano328p - используемая плата Arduino;
- 10 - номер цифрового пина платы Arduino;
- 2 - количество устройств на шине;
  
Для создания еще одной шины на другом пине, например 9, нужно написать:

```C++
OneWire_R6LHL onewire_D9(Arduino_Board::nano328p, 9, 1);
```
### Функции

- ***Поиск устройств на шине***
```C++
void searchROM_(void); 
```
 Найденные ROM сохраняются в буфер:
 
```C++
private: 
device_id_buffer_[device_counter][byte_counter];
```
- ***Выбор конкретного устройства***

```C++ 
void matchROM_(unsigned char device_number);
```
где device_number - номер устройства в буфере устройств device_id_buffer

- ***Выбор всех устройств***

```C++ 
void skipROM_(void);
```
все устройства на шине переходят в активный режим и ждут команд.

_!!!ВОЗМОЖЕН КОНФЛИКТ УСТРОЙСТВ ПРИ ПЕРЕДАЧЕ ДАННЫХ!!!_

-
